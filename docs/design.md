# phoenix debug 方式设计

## 添加构造数据方法

### 基本模式 - mock函数构造数据
- 与现有的mock方式一样；区别是接口必须模块化；
- 可以是一个接口单独是一个文件；也可以是一个业务模块为一个文件；
- mock只要写好没个接口的数据处理函数即可；函数返回需要的数据；

### 利用桩模型构造数据
- 桩模型是为了方便数据构造；统一数据接口定义设定的；
- 桩模型不限制mock的使用方式；只作为辅助mock构造数据；
- 桩模型提供了接口级别；或功能、变量基本的构造数据方法
  
  获得接口数据
  var data = stub.get('GET_nikon_detail', params);

  获得功能级别数据
  var sublinks = stub.get('@SUBLINKS', params);

  获得变量级别数据
  var idea = stub.get('@IDEA', params);


## 前后端共用构造数据模块化方案
### 定义mock数据方式
- 支持多种mock数据方式；基本方式是浏览器端构造数据；如果是需要发送真实请求，在配置文件中加入接口名字;
- 建议大部分接口默认客户端方式；服务端mock只为开发过程使用；
- 在config文件中定义哪些接口发送真实请求；哪些接口使用客户端mock数据;
- 发送的真实请求可以转发到其它mock方式；如php或本地文件；但不建议这样做；
- 使用fcpipe支持请求转发；支持发送请求到测试联调环境；

### beef解决前后端模块化问题
- 所有mock模块以浏览器端mock为先设计；因此优先支持前端amd模块
- beef解决了后端加载前端amd文件问题
- 每个模块的书写必须安标准amd方式才能支持前后端模块公用
### 
